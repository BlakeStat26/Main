<script>
  const yesBtn = document.getElementById('yesBtn');
  const noHeartsBtn = document.getElementById('noHeartsBtn');
  const mainText = document.getElementById('main-text');
  const successText = document.getElementById('successText');
  const heartsContainer = document.getElementById('hearts-container');

  /* ===== YES BUTTON ACTION ===== */
  yesBtn.addEventListener('click', () => {
    mainText.style.display = 'none';
    successText.style.display = 'block';

    createHearts(40);
    launchConfetti();
    launchFireworks();
  });

  /* ===== PLAYFUL "BOY BYE" BUTTON ===== */
  noHeartsBtn.addEventListener('mouseenter', () => {
    const x = Math.random() * 200 - 100;
    const y = Math.random() * 200 - 100;
    noHeartsBtn.style.transform = `translate(${x}px, ${y}px)`;
    noHeartsBtn.textContent = "Nice try üòè";
  });

  /* ===== Floating Hearts Generator ===== */
  function createHearts(count) {
    for (let i = 0; i < count; i++) {
      const heart = document.createElement('div');
      heart.classList.add('heart');
      heart.textContent = 'üíñ';

      heart.style.left = Math.random() * 100 + 'vw';
      heart.style.animationDuration = 4 + Math.random() * 3 + 's';
      heart.style.fontSize = 16 + Math.random() * 20 + 'px';

      heartsContainer.appendChild(heart);

      setTimeout(() => {
        heart.remove();
      }, 7000);
    }
  }

  /* ===== CONFETTI EXPLOSION ===== */
  function launchConfetti() {
    for (let i = 0; i < 120; i++) {
      const confetti = document.createElement('div');
      confetti.style.position = 'fixed';
      confetti.style.top = '50%';
      confetti.style.left = '50%';
      confetti.style.width = '10px';
      confetti.style.height = '10px';
      confetti.style.backgroundColor = randomColor();
      confetti.style.opacity = '0.9';
      confetti.style.transform = 'translate(-50%, -50%)';
      confetti.style.borderRadius = '3px';
      confetti.style.pointerEvents = 'none';

      document.body.appendChild(confetti);

      const angle = Math.random() * 360;
      const distance = Math.random() * 400 + 100;

      const x = Math.cos(angle) * distance;
      const y = Math.sin(angle) * distance;

      confetti.animate(
        [
          { transform: `translate(-50%, -50%)` },
          { transform: `translate(${x}px, ${y}px) rotate(${Math.random() * 720}deg)` }
        ],
        {
          duration: 1200 + Math.random() * 800,
          easing: 'ease-out',
          fill: 'forwards'
        }
      );

      setTimeout(() => confetti.remove(), 2000);
    }
  }

  function randomColor() {
    const colors = ['#ff4d6d', '#ff85a1', '#ffc2d1', '#c77dff', '#9d4edd', '#f72585'];
    return colors[Math.floor(Math.random() * colors.length)];
  }

  /* ===== FIREWORKS ===== */
  function launchFireworks() {
    for (let i = 0; i < 6; i++) {
      setTimeout(() => createFirework(), i * 400);
    }
  }

  function createFirework() {
    const firework = document.createElement('div');
    firework.style.position = 'fixed';
    firework.style.left = Math.random() * 100 + 'vw';
    firework.style.top = Math.random() * 40 + 'vh';
    firework.style.width = '6px';
    firework.style.height = '6px';
    firework.style.background = '#fff';
    firework.style.borderRadius = '50%';
    firework.style.boxShadow = '0 0 12px #fff';
    firework.style.pointerEvents = 'none';

    document.body.appendChild(firework);

    for (let i = 0; i < 25; i++) {
      const spark = document.createElement('div');
      spark.style.position = 'fixed';
      spark.style.left = firework.style.left;
      spark.style.top = firework.style.top;
      spark.style.width = '5px';
      spark.style.height = '5px';
      spark.style.background = randomColor();
      spark.style.borderRadius = '50%';
      spark.style.pointerEvents = 'none';

      document.body.appendChild(spark);

      const angle = Math.random() * 360;
      const distance = Math.random() * 150 + 50;

      const x = Math.cos(angle) * distance;
      const y = Math.sin(angle) * distance;

      spark.animate(
        [
          { transform: 'translate(0,0)', opacity: 1 },
          { transform: `translate(${x}px, ${y}px)`, opacity: 0 }
        ],
        {
          duration: 1200 + Math.random() * 600,
          easing: 'ease-out',
          fill: 'forwards'
        }
      );

      setTimeout(() => spark.remove(), 2000);
    }

    setTimeout(() => firework.remove(), 200);
  }
</script>
